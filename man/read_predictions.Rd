% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read.R
\name{read_predictions}
\alias{read_predictions}
\title{Read Predictions from Grade.bin}
\usage{
read_predictions(area = "guanabara", date = Sys.Date())
}
\arguments{
\item{area}{Character: bay name. Default: \code{"guanabara"}.}

\item{date}{Date object or \code{"YYYY-MM-DD"} string: the prediction date
(used for the \code{datetime} column). Default: \code{Sys.Date()}.}
}
\value{
data.table with columns:
\describe{
\item{col, row}{Grid cell indices}
\item{lon, lat}{Coordinates (decimal degrees, WGS84)}
\item{datetime}{POSIXct timestamp (America/Sao_Paulo)}
\item{hour}{Hour of day (0-23)}
\item{velocity_cm_s}{Speed in cm/s}
\item{speed_m_s}{Speed in m/s}
\item{direction_deg}{Direction from North (degrees, oceanographic convention)}
\item{u_velocity}{Eastward component (cm/s)}
\item{v_velocity}{Northward component (cm/s)}
}
}
\description{
Parses the binary Grade.bin file containing tidal current predictions.
Returns a data.table with hourly predictions for all active grid nodes.
}
\details{
The Grade.bin file uses a variable-length binary format:
\itemize{
\item 20-byte header per node (col, row, lon, lat, flag)
\item 192 additional bytes for active nodes (24 hours x 8 bytes)
\item Each hour has velocity (float32) and direction (float32)
}

For Guanabara Bay, this returns ~7 million records (290k nodes x 24 hours).
}
\examples{
\dontrun{
dt <- read_predictions("guanabara", "2025-06-15")
dt[, .(mean_speed = mean(velocity_cm_s), max_speed = max(velocity_cm_s)),
   by = hour]
}

}
\seealso{
\code{\link[=predict_currents]{predict_currents()}}, \code{\link[=run_prediction]{run_prediction()}}
}
